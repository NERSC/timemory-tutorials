#%Module1.0

if { ! [is-loaded cori-gpu] } { module purge }

module load esslurm
module load cmake
module unload gcc
module load gcc/7.3.0
module load mpich/3.3.1-debug

prepend-path PATH /project/projectdirs/m1759/timemory-tutorial/spack/bin

setenv CC                  gcc
setenv CXX                 g++
setenv CUDACXX             nvcc
setenv CRAYPE_LINK_TYPE    dynamic
setenv ALLINEA_LICENSE_DIR /global/common/sw/cray/sles15/x86_64/allinea-forge/licenses

module-whatis "Loads environment for NERSC Cori GPU nodes"

proc ModulesHelp { } {
  global version
  puts stderr "\t\t NERSC Cori GPU environment\n"
  puts stderr ""
}

